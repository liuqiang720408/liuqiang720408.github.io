{"name":"Liuqiang720408.GitHub.io","tagline":"前端小强","body":"# liuqiang720408.github.io\r\n前端小强\r\nvar fs=require('fs'),\r\n    stdin=process.stdin,\r\n    stdout=process.stdout;\r\nvar stats=[];\r\nconsole.log(fs.readdirSync(__dirname));\r\n//获取当前目录的文件列表\r\nconsole.log(fs.readdirSync('.'));\r\n//获取当前目录的文件列表\r\nfs.readdir(__dirname,function(err,files){\r\n    console.log(files);\r\n    /*for(var i=0;i<files.length;i++){\r\n        if(files[i].indexOf(\"age\")!=-1){\r\n            console.log(files[i]);\r\n        }\r\n    }*/\r\n});\r\nfs.readdir(process.cwd(),function(err,files){\r\n    console.log('');\r\n\r\n    if(!files.length){\r\n        return console.log('\\033[31m 没有文件要显示!\\033[30m\\n');\r\n    }\r\n    console.log('select which file or directory yu want to see\\n');\r\n        function file(i){\r\n            var filename=files[i];\r\n            fs.stat(__dirname+'/'+filename,function(err,stat){\r\n                stats[i]=stat;//把每一次的文件或者目录放到数组中\r\n                if(stat.isDirectory()){\r\n                    console.log(''+i+'\\033[36m'+filename+'/\\033[39m');\r\n                }else {\r\n                    console.log('' + i+\r\n                    '\\033[90m' + filename + '\\033[39m')\r\n                }\r\n                i++;\r\n                if(i==files.length){\r\n                   read();\r\n                }else{\r\n                    file(i);\r\n                }\r\n            })\r\n        }\r\n    function read(){\r\n        console.log('');\r\n        stdout.write('\\033[33mEnter your choice:\\33[39m');\r\n        stdin.resume();//stdin流默认的状态是暂停的,resume等待用户输入。\r\n        stdin.setEncoding('utf8');\r\n        stdout.setEncoding('utf8');\r\n        //读取用户输入后󣬽接下来要做的就是根据用户输入作出相应处理。\r\n        //需要选择要读取的文件Ϳ就开始监听其data事件\r\n        stdin.on('data',option);\r\n\r\n    }\r\n    function option(data){\r\n        var  filename=files[Number(data)];\r\n        if(!filename){//判断用户输入序号对应的文件是否存在\r\n            stdout.write(\"\\033[31mEnter your choice:\\033[39m\");\r\n        }else{\r\n            stdin.pause();\r\n            if(stats[Number(data)].isDirectory()){\r\n                fs.readdir(__dirname+'/'+filename,function(err,files){\r\n                    console.log('');\r\n                    console.log('(当前有'+files.length+'个文件)');\r\n                    //遍历文件目录下的文件\r\n                    files.forEach(function(file){\r\n                        console.log('-'+file);\r\n                    })\r\n                })\r\n\r\n            }else{\r\n                fs.readFile(__dirname+\"/\"+filename,'utf8',\r\n                    function(err,data){\r\n                        //读文件中的内容\r\n                        console.log('');\r\n                        console.log('\\033[90m'+\r\n                            data.replace(/(.*)/g,'$1')+\r\n                            '\\033[39m');\r\n                    });\r\n            }\r\n\r\n        }\r\n    }\r\n    file(0);\r\n});\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}